import{r,j as e,B as f,P as b,u as _,H as w}from"./index-HWUfzzpA.js";import{u as c}from"./useTranslation-CO_HoI3e.js";function p({onLogin:n}){const{t:a}=c(),[i,l]=r.useState(""),[u,h]=r.useState(""),[g,d]=r.useState(null),[s,m]=r.useState(!1);async function j(t){t.preventDefault(),d(null),m(!0);try{const o=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:u})});if(!o.ok){const{message:L}=await o.json();d(L||a("adminLogin.error")),m(!1);return}const{token:x}=await o.json();n(x)}catch{d(a("adminLogin.errorNetwork")),m(!1)}}return e.jsxs("form",{onSubmit:j,noValidate:!0,className:"aam_admin-login-page__form",children:[e.jsxs("div",{className:"aam_admin-login-page__input",children:[e.jsx("label",{htmlFor:"username",children:a("adminLogin.username")}),e.jsx("input",{id:"username",type:"text",value:i,onChange:t=>l(t.target.value),disabled:s,autoComplete:"username",required:!0})]}),e.jsxs("div",{className:"aam_admin-login-page__input",children:[e.jsx("label",{htmlFor:"password",children:a("adminLogin.password")}),e.jsx("input",{id:"password",type:"password",value:u,onChange:t=>h(t.target.value),disabled:s,autoComplete:"current-password",required:!0})]}),e.jsx(f,{type:"submit",disabled:s,variant:"white",label:a(s?"adminLogin.loading":"adminLogin.submit"),children:a(s?"adminLogin.loading":"adminLogin.submit")}),g&&e.jsx("p",{role:"alert",style:{color:"red"},children:g})]})}p.propTypes={onLogin:b.func.isRequired};function S(){const{t:n}=c(),a=_(),i=l=>{localStorage.setItem("authToken",l),a("/adminDashboard")};return e.jsxs("div",{className:"aam_admin-login-page",children:[e.jsxs(w,{children:[e.jsx("title",{children:n("pageTitles.adminLogin")}),e.jsx("meta",{name:"description",content:n("adminLogin.pageDescription")})]}),e.jsx("h1",{className:"aam_admin-login-page__title",children:n("adminLogin.pageTitle")}),e.jsx(p,{onLogin:i})]})}export{S as default};
//# sourceMappingURL=AdminLoginPage-DGgidXNw.js.map
