{"version":3,"file":"AdminLoginPage-CmmMO5Fr.js","sources":["../../../src/components/ComplexComponents/AdminLogin/AdminLogin.jsx","../../../src/pages/AdminLoginPage/AdminLoginPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from '../../Button/Button';\r\nimport '../../../styles/components/ComplexComponents/Admin/AdminLogin.scss';\r\n\r\nfunction AdminLogin({ onLogin }) {\r\n  const { t } = useTranslation();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await fetch('/api/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const { message } = await res.json();\r\n        setError(message || t('adminLogin.error'));\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const { token } = await res.json();\r\n      onLogin(token);\r\n    } catch (e) {\r\n      setError(t('adminLogin.errorNetwork'));\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} noValidate className=\"aam_admin-login-page__form\">\r\n      <div className='aam_admin-login-page__input'>\r\n      <label htmlFor=\"username\">{t('adminLogin.username')}</label>\r\n      <input\r\n        id=\"username\"\r\n        type=\"text\"\r\n        value={username}\r\n        onChange={e => setUsername(e.target.value)}\r\n        disabled={loading}\r\n        autoComplete=\"username\"\r\n        required\r\n      />\r\n      </div>\r\n      <div className='aam_admin-login-page__input'>\r\n      <label htmlFor=\"password\">{t('adminLogin.password')}</label>\r\n      <input\r\n        id=\"password\"\r\n        type=\"password\"\r\n        value={password}\r\n        onChange={e => setPassword(e.target.value)}\r\n        disabled={loading}\r\n        autoComplete=\"current-password\"\r\n        required\r\n      />\r\n      </div>\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        disabled={loading}\r\n        variant=\"white\"\r\n        label={loading ? t('adminLogin.loading') : t('adminLogin.submit')}\r\n      >\r\n        {loading ? t('adminLogin.loading') : t('adminLogin.submit')}\r\n      </Button>\r\n\r\n      {error && <p role=\"alert\" style={{ color: 'red' }}>{error}</p>}\r\n    </form>\r\n  );\r\n}\r\n\r\nAdminLogin.propTypes = {\r\n  onLogin: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AdminLogin;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport AdminLogin from '../../components/ComplexComponents/AdminLogin/AdminLogin';\r\n\r\nfunction AdminLoginPage() {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = (token) => {\r\n    localStorage.setItem('authToken', token);\r\n    navigate('/adminDashboard');\r\n  };\r\n\r\n  return (\r\n    <div className=\"aam_admin-login-page\">\r\n      <Helmet>\r\n        <title>{t('pageTitles.adminLogin')}</title>\r\n        <meta name=\"description\" content={t('adminLogin.pageDescription')} />\r\n      </Helmet>\r\n\r\n      <h1 className=\"aam_admin-login-page__title\">{t('adminLogin.pageTitle')}</h1>\r\n      <AdminLogin onLogin={handleLogin} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminLoginPage;\r\n"],"names":["AdminLogin","onLogin","t","useTranslation","username","setUsername","useState","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","res","message","token","jsxs","jsx","Button","PropTypes","AdminLoginPage","navigate","useNavigate","handleLogin","Helmet"],"mappings":"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"}